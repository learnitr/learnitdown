<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Track events, the submit or the quit buttons — trackEvents • learndown</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>



<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- svPkgdown -->
<script src="../script.js"></script>

<!-- themify icon -->
<link rel="stylesheet" href="../themify-icons.css?nocache=123">
<!--<link rel="stylesheet" href="../style.css?nocache=123">-->

<!-- bootstrat v4.1.1, required CSS from more recent version -->
<link rel="stylesheet" href="../bootstrap.more.css?nocache=123">

<link href="../style.css?nocache=123" rel="stylesheet">
<!-- end of addition for svPkgdown -->


<meta property="og:title" content="Track events, the submit or the quit buttons — trackEvents" />
<meta property="og:description" content="These functions provide the required code to be inserted in the server part
of a Shiny application to track events (start, stop, inputs, outputs, errors,
result or quit), to check the answer when the user clicks on the submit
button and to cleanly close the application when the user clicks on the quit
button." />
<meta name="twitter:card" content="summary" />






<!-- Mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>-->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <!-- preloader start -->
<div class="preloader">
  <img src="../preloader.gif" alt="loading...">
</div>
<!-- preloader end -->

<div class="navbar navbar-default navbar-fixed-top bg-secondary" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand-container">
       <div class="navbar-brand-logo">
         <a class="navbar-brand" href="https://www.sciviews.org">
          <img src="../logo_full.png" alt="SciViews">
         </a>
       </div>
       <div class="navbar-brand-package">
      </div>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <!-- start svPkgdown global site search with Google -->
      <form action="https://www.google.com/search" class="navbar-form navbar-right search-form-global">
        <div class="form-group has-search">
          <span class="fa fa-search form-control-feedback-global"></span>
          <input type="text" class="form-control-global search-form-input" name="q" id="q"
            placeholder="Search..." required>
          <input type="hidden" name="sitesearch" value="https://www.sciviews.org" />
        </div>
      </form>
      <!-- end svPkgdown global site search with Google -->
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/learndown.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/SciViews/learndown/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <div class="navbar-title">
        <a class="navbar-brand" href="../index.html"><p class = "h2">learndown <small>v1.0.1</small></p></a>
      </div>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
  <div class="navbar-spacer bg-light">
  </div>
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Track events, the submit or the quit buttons</h1>
    <small class="dont-index">Source: <a href='https://github.com/SciViews/learndown/blob/master/R/learndown_shiny.R'><code>R/learndown_shiny.R</code></a></small>
    <div class="hidden name"><code>trackEvents.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions provide the required code to be inserted in the server part
of a Shiny application to track events (start, stop, inputs, outputs, errors,
result or quit), to check the answer when the user clicks on the submit
button and to cleanly close the application when the user clicks on the quit
button.</p>
    </div>

    <pre class="usage"><span class='fu'>trackEvents</span>(
  <span class='kw'>session</span>,
  <span class='kw'>input</span>,
  <span class='kw'>output</span>,
  url = <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span>(<span class='st'>"MONGO_URL"</span>),
  db = <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span>(<span class='st'>"MONGO_BASE"</span>),
  user = <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span>(<span class='st'>"MONGO_USER"</span>),
  password = <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span>(<span class='st'>"MONGO_PASSWORD"</span>),
  version = <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"learndown.shiny.version"</span>),
  path = <span class='st'>"shiny_logs"</span>,
  log.errors = <span class='fl'>TRUE</span>,
  log.outputs = <span class='fl'>FALSE</span>,
  drop.dir = <span class='fl'>TRUE</span>
)

<span class='fu'>trackSubmit</span>(
  <span class='kw'>session</span>,
  <span class='kw'>input</span>,
  <span class='kw'>output</span>,
  solution = <span class='kw'>NULL</span>,
  comment = <span class='st'>""</span>,
  message.success = <span class='st'>"Correct"</span>,
  message.error = <span class='st'>"Incorrect"</span>
)

<span class='fu'>trackQuit</span>(<span class='kw'>session</span>, <span class='kw'>input</span>, <span class='kw'>output</span>, delay = <span class='fl'>60</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>session</th>
      <td><p>The current Shiny <code>session</code>.</p></td>
    </tr>
    <tr>
      <th>input</th>
      <td><p>The Shiny <code>input</code> object.</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>The Shiny <code>output</code> object.</p></td>
    </tr>
    <tr>
      <th>url</th>
      <td><p>The URL to reach the MongoDB database. By default, it is read from
the <code>MONGO_URL</code> environment variable.</p></td>
    </tr>
    <tr>
      <th>db</th>
      <td><p>The database to populate in the MongoDB database. By default, it is
read from the <code>MONGO_BASE</code> environment variable.</p></td>
    </tr>
    <tr>
      <th>user</th>
      <td><p>The user login to the MongoDB database. By default, it is
read from the <code>MONGO_USER</code> environment variable.</p></td>
    </tr>
    <tr>
      <th>password</th>
      <td><p>The password to access the MongoDB database. By default, it is
read from the <code>MONGO_PASSWORD</code> environment variable.</p></td>
    </tr>
    <tr>
      <th>version</th>
      <td><p>The version of the current Shiny application. By default, it
is the <code>learndown.shiny.version</code> option, as set by <code><a href='learndownShiny.html'>learndownShinyVersion()</a></code>.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>The path where the temporary <code>shinylogs</code> log files are stored. By
default, it is the <code>shiny_logs</code> subdirectory of the application,and if that
directory is not writable, a temporary directory is used instead.</p></td>
    </tr>
    <tr>
      <th>log.errors</th>
      <td><p>Do we log error events (yes by default)?</p></td>
    </tr>
    <tr>
      <th>log.outputs</th>
      <td><p>Do we log output events (no by default)?</p></td>
    </tr>
    <tr>
      <th>drop.dir</th>
      <td><p>Do we erase the directory indicated by <code>path =</code> if it is
empty at the end of the process (yes by default).</p></td>
    </tr>
    <tr>
      <th>solution</th>
      <td><p>The correct solution as a named list. Names are the
application inputs to check and their values are the correct values. The
current state of these inputs will be compared against the solution, and the
<code>message.success</code> or <code>message.error</code> is displayed accordingly. Also a result
event is triggered with the <code>correct</code> field set to <code>TRUE</code> or <code>FALSE</code>
accordingly. If <code>solution = NULL</code>, then the answer is considered to be always
correct (use this if you just want to indicate that the user's answer is
recorded in the database).</p></td>
    </tr>
    <tr>
      <th>comment</th>
      <td><p>A string with a comment to append to the value of the result
event.</p></td>
    </tr>
    <tr>
      <th>message.success</th>
      <td><p>The message to display is the answer is correct
("Correct" by default).</p></td>
    </tr>
    <tr>
      <th>message.error</th>
      <td><p>The message to display if the answer is wrong
("Incorrect" by default).</p></td>
    </tr>
    <tr>
      <th>delay</th>
      <td><p>The time to wait before we close the Shiny application in sec
(60 sec by default). If <code>delay = -1</code>, the application is <strong>not</strong> closed, only
the session is closed when the user clicks on the quit button.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The code to be inserted in the server part of the learndown Shiny
application in order to properly identify the user and record the events.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='learndownShiny.html'>learndownShinyVersion()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># TODO...</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- footer -->
<!--<footer class="bg-secondary">-->
<div class="bg-secondary full-width">
    <div class="py-100 border-bottom" style="border-color: #454547 !important">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="mb-5 mb-md-0 text-center text-md-left">
                        <!-- logo -->
                        <img class="mb-30" src="https://www.sciviews.org/images/logo-footer.png" alt="logo">
                        <p class="text-white mb-30"> We build software for reproducible research with R</p>
                        <!-- social icon -->
                        <ul class="list-inline">

                            <li class="list-inline-item">
                                <a class="social-icon-outline" href="https://github.com/SciViews">
                                    <i class="ti-github"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="social-icon-outline" href="https://twitter.com/PhilGrosjean">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="social-icon-outline" href="https://www.linkedin.com/in/philippe-grosjean-5b6b29a2/">
                                    <i class="ti-linkedin"></i>
                                </a>
                            </li>

                        </ul>
                    </div>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Related</p>
                    <ul class="footer-links">

                        <li>
                            <a href="http://econum.umons.ac.be">Our Lab</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/fs/en/">Our Faculty</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/complexys/en/">Complexys</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/infortech/en/">InforTech</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/en/">UMONS</a>
                        </li>

                    </ul>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Quick Link</p>
                    <ul class="footer-links">

                        <li>
                            <a href="https://www.sciviews.org/software/svbox">SciViews Box</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/sciviews-r">SciViews::R</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/zooimage">Zoo/PhytoImage</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/blog">Blog</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/about">About</a>
                        </li>

                    </ul>
                </div>
                <!-- subscribe form -->
                <div class="col-lg-3 col-md-12 offset-lg-1">
                    <div class="mt-5 mt-lg-0 text-center text-md-left">
                             <p class="h4 mb-4 text-white">Contact Us</p>
                             <p class="text-white mb-4">Need more info?<br/><a href="mailto:info@sciviews.org"><span class="text-primary">Leave us a mail...</span></a></p>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright -->
    <div class="pt-4 pb-3 position-relative">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-5">
                    <p class="text-white text-center text-md-left">
                        <span class="text-primary">SciViews</span> &copy; All Right Reserved</p>
                </div>
                <div class="col-lg-6 col-md-7">
                    <ul class="list-inline text-center text-md-right">

                        <li class="list-inline-item mx-lg-3 my-lg-0 mx-2 my-2">
                            <a class="font-secondary text-white" href="https://creativecommons.org/licenses/by/4.0/">Site content under CC-BY 4.0 license</a>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <!-- back to top -->
        <!--<button class="back-to-top">
            <i class="ti-angle-up"></i>
        </button>-->
    </div>
</div>
<!--</footer>-->
<!-- /footer -->

      </footer>
   </div>

  


  </body>
</html>


